@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Reset your password</title>
    <link rel="icon" href="~/images/freepik-export-20240715061812u1zF.png" />
    <link rel="stylesheet" href="@Url.Content("~/Content/reset.css")" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
</head>
<body>
    <div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>
    <div id="dialog">
        <h2>Reset Your Password</h2>

        <form id="resetPasswordForm" action="@Url.Action("ResetPassword", "Account")" method="post" onsubmit="return validatePasswords()">
            <div id="form">
                <div class="input-group">
                    <label for="newPassword">New Password:</label>
                    <input type="password" id="newPassword" name="newPassword" required />
                    <span class="toggle-password" onclick="togglePassword('newPassword')"><i style="position:relative; top:12px;" class="fas fa-eye"></i></span>
                </div>
                <div class="input-group">
                    <label for="confirmPassword">Confirm Password:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required />
                    <span class="toggle-password" onclick="togglePassword('confirmPassword')"><i style="position:relative; top:12px;" class="fas fa-eye"></i></span>
                </div>
            </div>
            <div class="bh">
                <input class="submit" type="submit" value="Reset Password" />
            </div>
        </form>

        @if (ViewBag.Message != null)
        {
            <div class="info">
                <p>@ViewBag.Message</p>
            </div>
        }
        @if (ViewBag.Error != null)
        {
            <div class="info" style="color: red;">
                <p>@ViewBag.Error</p>
            </div>
        }
    </div>

    <script>
        function togglePassword(id) {
            const input = document.getElementById(id);
            const icon = input.nextElementSibling.querySelector('i');
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }

        function validatePasswords() {
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            if (newPassword !== confirmPassword) {
                alert('Passwords do not match.');
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
<footer style="display:flex; justify-content:center;color:lightgrey; margin-top:5px;">
    <p>All rights reserved &copy; @DateTime.Now.Year ICEAlex.</p>
</footer>
